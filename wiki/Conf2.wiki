#summary Configurações do cenário 2

Nesta seção esta o conteúdo de todos os arquivos de configuração usados para a simulação do cenário 2.

Script para gerar o cenário. 
{{{
#!/bin/sh

# script que gera cenario 2
WD=~/vm
TOOLS=$WD/tools
FSYS=DebianFS
LINUX=$WD/linux

echo "Iniciando Cenario 2"

echo "Limpando cows"
rm $WD/cow-*

echo "Limpando pipes"
rm /tmp/net*

echo "Lancamento dos switches"
xterm -geometry 80x5 -T NET100 -e "$TOOLS/uml_switch_mob -mob -unix /tmp/net100.ctl"  &
xterm -geometry 80x5 -T NET200 -e "$TOOLS/uml_switch_mob -mob  -unix /tmp/net200.ctl"  &
xterm -geometry 80x5 -T NETGEN -e "$TOOLS/uml_switch  -unix /tmp/netgen.ctl"  & 
sleep 2

echo "Lancamento das maquinas virtuais UML"
xterm -T 'Mobile 1' -e "$LINUX umid=MN1  ubda=$WD/cow-MN1,$WD/$FSYS mem=128M \
eth0=daemon,,,/tmp/net100.ctl" &
sleep 1

xterm -T AR1 -e "$LINUX umid=AR1 ubda=$WD/cow-AR1,$WD/$FSYS mem=128M \
eth0=daemon,,,/tmp/net100.ctl eth1=daemon,,,/tmp/netgen.ctl" &
sleep 1

xterm  -T 'Mobile 2' -e "$LINUX umid=MN2 ubda=$WD/cow-MN2,$WD/$FSYS \
mem=128M eth0=daemon,,,/tmp/net200.ctl" &
sleep 1

xterm -T AR2 -e "$LINUX umid=AR2 ubda=$WD/cow-AR2,$WD/$FSYS mem=128M \
eth0=daemon,,,/tmp/net200.ctl eth1=daemon,,,/tmp/netgen.ctl" &
sleep 1

xterm -T AR3 -e "$LINUX umid=AR3 ubda=$WD/cow-AR3,$WD/$FSYS mem=128M \
eth0=daemon,,,/tmp/net100.ctl eth1=daemon,,,/tmp/netgen.ctl" &
sleep 1

xterm -T AR4 -e "$LINUX umid=AR4 ubda=$WD/cow-AR4,$WD/$FSYS mem=128M \
eth0=daemon,,,/tmp/net200.ctl eth1=daemon,,,/tmp/netgen.ctl" &

PID=`ps x | grep mob | head -2 | tail -1 | cut -c 1-5`
PID2=`ps x | grep mob | tail -2 | head -1 | cut -c 1-5`

echo "Pressione <enter> para a mobilidade dos nos"
read a
echo $PID $PID2
kill -USR1 $PID $PID2

echo "Pressione <enter> para os nos retornarem a rede"
read a
kill -USR1 $PID $PID2

echo "Pressione <enter> para parar a Simulacao"
read a
kill $(pidof linux)
kill $(pidof xterm)

echo "Fim de simulacao"
}}}